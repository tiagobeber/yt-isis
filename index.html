<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Abrir no app do YouTube</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:32px;line-height:1.35}
  .card{max-width:560px;margin:0 auto;border:1px solid #eee;border-radius:16px;padding:24px}
  .btn{display:inline-block;padding:12px 16px;border-radius:12px;text-decoration:none;border:1px solid #ddd;margin:6px 0}
  .btn.primary{border-color:#000}
  .muted{color:#666;font-size:14px}
</style>
<script>
(function () {
  const CHANNEL_HANDLE = '@IsisPorAki';
  const HTTPS_URL = 'https://www.youtube.com/' + encodeURIComponent(CHANNEL_HANDLE) + '?sub_confirmation=1';
  const IOS_SCHEME = 'youtube://www.youtube.com/' + encodeURIComponent(CHANNEL_HANDLE) + '?sub_confirmation=1';
  const ANDROID_INTENT =
    'intent://www.youtube.com/' + encodeURIComponent(CHANNEL_HANDLE) +
    '?sub_confirmation=1#Intent;scheme=https;package=com.google.android.youtube;' +
    'S.browser_fallback_url=' + encodeURIComponent(HTTPS_URL) + ';end';

  const ua = navigator.userAgent || '';
  const isiOS = /iPad|iPhone|iPod/i.test(ua);
  const isAndroid = /Android/i.test(ua);
  const isInApp = /(Instagram|FBAN|FBAV|FB_IAB|Line|Messenger|TikTok|Twitter|Snapchat|Pinterest)/i.test(ua);

  function go(url){ window.location.href = url; }
  function tryOpen() {
    if (isInApp) {
      // Webviews costumam bloquear deep links. Mostre instruções e ofereça HTTPS.
      document.getElementById('advice').style.display = 'block';
      // Mesmo assim, abrir HTTPS já ajuda: fora do IG ele entrega para o app.
      setTimeout(() => go(HTTPS_URL), 5000);
      return;
    }
    if (isAndroid) {
      // Fora do IG: intent abre direto o app. Fallback fica no próprio intent.
      go(ANDROID_INTENT);
      return;
    }
    if (isiOS) {
      // iOS: tenta esquema customizado; se não rolar, cai no HTTPS.
      const t = setTimeout(() => go(HTTPS_URL), 800);
      // Se o esquema abrir o app, a página perde foco e o timeout normalmente não roda.
      go(IOS_SCHEME);
      return;
    }
    // Desktop / outros: HTTPS
    go(HTTPS_URL);
  }

  window.addEventListener('DOMContentLoaded', tryOpen);
  // Botões
  window.openApp = () => {
    if (isAndroid && !isInApp) return go(ANDROID_INTENT);
    if (isiOS && !isInApp) {
      setTimeout(() => go(HTTPS_URL), 5000);
      return go(IOS_SCHEME);
    }
    return go(HTTPS_URL);
  };
  window.openWeb = () => go(HTTPS_URL);
})();
</script>
</head>
<body>
  <div class="card">
    <h1>Abrindo o YouTube…</h1>
    <p class="muted">Se não abrir automaticamente, toque em um dos botões abaixo.</p>
    <p><a class="btn primary" href="javascript:void 0" onclick="openApp()">Abrir no app do YouTube</a></p>
    <p><a class="btn" href="javascript:void 0" onclick="openWeb()">Abrir no navegador</a></p>
    <div id="advice" style="display:none;margin-top:12px" class="muted">
      📌 Parece que você está no Instagram/TikTok/Facebook.  
      Toque nos **três pontinhos** e escolha **“Abrir no navegador”**.  
      Lá o link pode entregar direto para o app do YouTube.
    </div>
  </div>
</body>
</html>